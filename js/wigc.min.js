function snap(e,t){for(var n=e.length-1;n>=0&&(e[n]!==t||(e.splice(n,1),!0!==multi));n--);}function trackEvent(e,t,n,s){s?(_paq.push(["trackEvent",e,t,n,s]),console.log("CATEGORY: "+e+", ACTION:"+t+", LABEL:"+n+", VALUE:"+s)):n?(_paq.push(["trackEvent",e,t,n]),console.log("CATEGORY: "+e+", ACTION:"+t+", LABEL:"+n)):(_paq.push(["trackEvent",e,t]),console.log("CATEGORY: "+e+", ACTION:"+t))}var _paq=_paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),$(document).on("load",function(){var e="https://circle.red/stats/";_paq.push(["setTrackerUrl",e+"piwik.php"]),_paq.push(["setSiteId","2"]);var t=document,n=t.createElement("script"),s=t.getElementsByTagName("script")[0];n.type="text/javascript",n.async=!0,n.defer=!0,n.src=e+"piwik.js",s.parentNode.insertBefore(n,s)});var app=new Vue({el:"#app",data:{my:{sidebarVisible:!1,meetoo:"",view:"loading",showMySessionsDesc:!0,sessions:[],vendors:[]},loaded:!1,home:{},sessions:[],vendors:[],people:[],sponsors:[],tracks:["Tribal Government","Casino Operations & Security","Regulation","Finance & Business Development","MCLE"],social:{},unfavorited:[],showMyVendors:!1,search:"",socialView:"twitter",instagramFeed:{},igLoading:!0,tweetsLoading:!0,tweets:{},contactUs:{},exhibitorInfo:{},booths:[],selectedTracks:[],showFilters:!1,error_msg:!1},computed:{mySessions:function(){var e=this;return e.sessions.filter(function(t){if(-1!==e.my.sessions.indexOf(t.url)||-1!==e.unfavorited.indexOf(t.url)||"schedule-item"===t.type)return!0})},conferenceSchedule:function(){return this.sessions.filter(function(e){if("schedule"===e.type)return!0})},seminars:function(){var e=this;return e.sessions.filter(function(t){if("sessions"===t.type&&(-1!==e.selectedTracks.indexOf(t.track)||0===e.selectedTracks.length))return!0})},filterIndicator:function(){return 0===this.selectedTracks.length||this.selectedTracks.length===this.tracks.length?"All Sessions":this.selectedTracks.join(", ")},myVendors:function(){var e=this;return e.vendors.filter(function(t){if(-1!==e.my.vendors.indexOf(t.url)||-1!==e.unfavorited.indexOf(t.url)||!1===e.showMyVendors)return!0})},instagramLatest:function(){if(this.instagramFeed.length>0)return this.instagramFeed.slice(0,3)}},mounted:function(){var e=this;$.ajax({url:"https://circle.red/wigc/",method:"GET",success:function(t){e.home=t.home,e.sessions=t.sessions,e.people=t.people,e.vendors=t.vendors,e.sponsors=t.sponsors,e.social=t.social,e.contactUs=t.pages.contactus,e.exhibitorInfo=t.pages.exhibitorinformation,e.booths=t.booths,e.loaded=!0},error:function(t){e.error_msg=t.responseText,e.my.view="error"}});var t=indexedDB.open("WIGCApp",3);t.onerror=function(t){e.indexed="Can't use IndexedDB"},t.onsuccess=function(t){e.db=this.result,e.getFavorites(),e.my.view="sessions"},t.onupgradeneeded=function(e){e.currentTarget.result.createObjectStore("my")},document.addEventListener("deviceready",function(){window.plugins.OneSignal.setLogLevel({logLevel:1,visualLevel:1}),console.log("Device Ready!");window.plugins.OneSignal.startInit("2405a721-a178-45fb-a787-a1bf43a2e74c").handleNotificationOpened(function(e){console.log("notificationOpenedCallback: "+JSON.stringify(e))}).endInit()},!1),e.my.sidebarVisible=!1,e.showMyVendors=!1},updated:function(){var e=this,t=indexedDB.open("WIGCApp",3);t.onerror=function(t){e.indexed="Can't use IndexedDB"},t.onsuccess=function(t){e.db=this.result,e.updateFavorites()},t.onupgradeneeded=function(e){e.currentTarget.result.createObjectStore("my")}},methods:{toggleFavorite:function(e,t){var n=this;t.favorite=!t.favorite,console.log(t.url),t.favorite?(e.push(t.url),console.log(t),trackEvent("Favorite",n.my.view,t.title)):(("My WIGC"===n.my.view||"Vendors"===n.my.view&&!0===n.showMyVendors)&&(n.unfavorited.push(t.url),setTimeout(function(){snap(n.unfavorited,t.url)},3e3)),snap(e,t.url))},switchSection:function(e,t){this.search="",this.my.sidebarVisible=!1,"my-wigc"===this.my.view&&(this.unfavorited=[]),"map"==this.my.view&&onLoad(),"Vendors"===e&&void 0!==t&&(this.showMyVendors=!1),this.my.view=e,"social"==this.my.view&&(this.getInstagramFeed(),this.getTweets()),void 0!==t&&setTimeout(function(){$("#"+t).parent(".cards").animate({scrollTop:document.getElementById(t).offsetTop-50})},1e3),trackEvent("Screen",this.my.view)},mapClick:function(e){var t=e.street_address+" "+e.city+", "+e.state+" "+e.zip;window.open("https://maps.google.com?q="+t,"Map"),console.log(e)},showMeetoo:function(e){this.my.meetoo=e,this.switchSection("meetoo")},getFavorites:function(){var e=this;e.getObjectStore("my","readonly").openCursor().onsuccess=function(t){var n=t.target.result;n&&(e.my=n.value,e.error_msg?e.my.view="error":e.my.view="Home")}},updateFavorites:function(){var e=this,t=e.getObjectStore("my","readwrite");t.count().onsuccess=function(n){if(0===n.target.result)try{t.add(e.my,0)}catch(e){throw e}else{t.openCursor().onsuccess=function(t){var n=t.target.result;if(n)try{n.update(e.my)}catch(e){throw e}e.sessions.map(function(t){-1!==e.my.sessions.indexOf(t.url)&&(t.favorite=!0)}),e.vendors.map(function(t){-1!==e.my.vendors.indexOf(t.url)&&(t.favorite=!0)})}}}},getObjectStore:function(e,t){return this.db.transaction(e,t).objectStore(e)},isDisabled:function(e){return!e.favorite&&"schedule-item"!==e.type},getInstagramFeed:function(){var e=this;$.ajax({url:"https://circle.red/wigc/instagram.php?tag=mywigc",method:"GET",success:function(t){void 0!==t.entry_data.TagPage[0].tag&&(e.instagramFeed=t.entry_data.TagPage[0].tag.media.nodes),e.igLoading=!1},error:function(t){e.error_msg=t.responseText,e.my.view="error"}})},getTweets:function(){var e=this;$.ajax({url:"https://circle.red/wigc/twitter/twitter.php",method:"GET",success:function(t){e.tweets=t.statuses,e.tweetsLoading=!1},error:function(t){e.error_msg=t.responseText,e.my.view="error"}})},parseUserAgent:function(){var e=navigator.userAgent.toLowerCase();return device="",e.indexOf("android")>-1?device="Android":e.indexOf("iphone")>-1||e.indexOf("ipad")>-1||e.indexOf("ipod")>-1?device="iOS":e.indexOf("windows")>-1?device="Windows":e.indexOf("mac os x")>-1&&(device="OSX"),device},openLink:function(e,t){void 0!==cordova.InAppBrowser&&(window.open=cordova.InAppBrowser.open),window.open(e,t)}}});
//# sourceMappingURL=wigc.min.js.map